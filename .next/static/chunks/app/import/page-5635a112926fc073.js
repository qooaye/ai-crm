(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[322],{9304:(e,t,s)=>{Promise.resolve().then(s.bind(s,4623))},4623:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(5155),l=s(2115);function a(){let[e,t]=(0,l.useState)(null),[s,a]=(0,l.useState)("idle"),[i,o]=(0,l.useState)(""),n=async()=>{if(!e)return;a("loading"),o("Processing your list...");let t=new FileReader;t.onload=async t=>{var s;let r=null===(s=t.target)||void 0===s?void 0:s.result;try{if((await fetch("/api/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:r,type:e.name.endsWith(".json")?"json":"csv"})})).ok)a("success"),o("Contacts imported successfully!");else throw Error("Failed to import contacts")}catch(e){a("error"),o("An error occurred during import.")}},t.readAsText(e)};return(0,r.jsx)("div",{className:"max-w-2xl mx-auto py-12",children:(0,r.jsxs)("div",{className:"glass p-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Import Contacts"}),(0,r.jsx)("p",{className:"text-gray-400 mb-8",children:"Upload your CSV or JSON file to bring your contacts into AI CRM."}),(0,r.jsxs)("div",{className:"border-2 border-dashed border-white/10 rounded-xl p-12 text-center hover:border-primary/50 transition-colors mb-8",children:[(0,r.jsx)("input",{type:"file",accept:".csv,.json",onChange:e=>{e.target.files&&t(e.target.files[0])},className:"hidden",id:"file-upload"}),(0,r.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC4"}),(0,r.jsx)("div",{className:"text-lg font-medium mb-2",children:e?e.name:"Click to select a file"}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Supports .csv and .json formats"})]})]}),"idle"!==s&&(0,r.jsx)("div",{className:"mb-6 p-4 rounded-lg flex items-center gap-3 ".concat("loading"===s?"bg-blue-500/10 text-blue-400":"success"===s?"bg-green-500/10 text-green-400":"bg-red-500/10 text-red-400"),children:(0,r.jsx)("span",{children:i})}),(0,r.jsx)("button",{onClick:n,disabled:!e||"loading"===s,className:"w-full premium-btn disabled:opacity-50 disabled:cursor-not-allowed py-4 text-lg",children:"loading"===s?"Importing...":"Start Import"})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(9304)),_N_E=e.O()}]);